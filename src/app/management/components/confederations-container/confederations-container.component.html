<mat-card class="card">
  <mat-card-title class="header">
    <div class="title">{{ 'confederations.listTitle' | translate }}</div>
    <div class="actions">
      <button
        mat-fab
        aria-label="Add new registry"
        matTooltip="{{ 'core.actions.add' | translate }}"
        (click)="onAddClick()"
      >
        <mat-icon>add</mat-icon>
      </button>
    </div>
  </mat-card-title>
  <mat-card-subtitle>{{
    'confederations.listSubtitle' | translate
  }}</mat-card-subtitle>
  <mat-card-content>
    <table mat-table [dataSource]="confederations$ | async">
      <!-- <ng-container
        *ngFor="let column of displayedColumns2"
        matColumnDef="{{ column.key }}"
      >
        <th mat-header-cell *matHeaderCellDef>{{ column.title }}</th>
        <td
          mat-cell
          *matCellDef="let element"
          class="{{ column.customClass }}"
          matTooltip="{{ column.tooltipText }}"
          [matTooltipPosition]="column.tooltipPosition ?? 'above'"
          (click)="
            column.customAction && column.customAction(element[column.key])
          "
        >
          <span
            *ngIf="!column.icon"
            class="flag-icon flag-icon-{{ element[column.icon] }}"
          ></span>
          <p *ngIf="!column.type">{{ element[column.key] }}</p>

          <p *ngIf="column.type === 'number'">
            {{ element[column.key] | number: '1.2' }}
          </p>

          <button
            *ngIf="column.type === 'button'"
            mat-icon-button
            class="btn btn-primary btn-just-icon btn-round"
            matTooltip="{{ element[column.key] }}"
            [ngStyle]="{ 'background-color': element[column.key] }"
          ></button>

          <mat-chip
            *ngIf="column.type === 'chip'"
            [style.backgroundColor]="element[column.color]"
          >
            {{ element[column.key] }}
          </mat-chip>
        </td>
      </ng-container> -->

      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'confederations.fields.position' | translate }}
        </th>
        <td
          mat-cell
          *matCellDef="let element"
          matTooltip="{{ 'core.actions.ranking' | translate }}"
          [matTooltipPosition]="'above'"
          (click)="onDetailClick(element.id)"
          class="clickable"
        >
          {{ element.id }}
        </td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'confederations.fields.name' | translate }}
        </th>
        <td mat-cell *matCellDef="let element">{{ element.name }}</td>
      </ng-container>

      <ng-container matColumnDef="color">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'confederations.fields.color' | translate }}
        </th>
        <td mat-cell *matCellDef="let element">
          <button
            mat-icon-button
            class="btn btn-primary btn-just-icon btn-round"
            matTooltip="{{ element.color }}"
            [ngStyle]="{ 'background-color': element.color }"
          ></button>
        </td>
      </ng-container>

      <ng-container matColumnDef="weight">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'confederations.fields.weight' | translate }}
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.weight | number: '1.2' }}
        </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'core.actions.actions' | translate }}
        </th>
        <td mat-cell *matCellDef="let row">
          <button
            color="primary"
            (click)="onEditClick(row.id)"
            matTooltip="{{ 'core.actions.edit' | translate }}"
            mat-icon-button
            aria-label="edit"
          >
            <mat-icon>edit</mat-icon>
          </button>
          <button
            (click)="onDeleteClick(row.id)"
            color="warn"
            matTooltip="{{ 'core.actions.delete' | translate }}"
            mat-icon-button
            aria-label="remove"
          >
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns$ | async"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns$ | async"></tr>
    </table>
    <mat-paginator
      #paginator
      [pageSizeOptions]="[10, 20, 100]"
      [pageSize]="10"
      [length]="(confederations$ | async).length"
    ></mat-paginator>
  </mat-card-content>
</mat-card>
